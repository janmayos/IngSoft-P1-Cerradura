<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Registro de Usuario</title>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;600&display=swap" rel="stylesheet">
    <link th:href="@{/antes/css/styleRegistro.css}" rel="stylesheet" type="text/css">
    <script th:src="@{/js/plugins/jquery.js}"></script>
    <script th:src="@{/js/materialize/js/materialize.min.js}"></script>
    <script th:src="@{/js/plugins/sweetalert2.js}"></script>
    <script th:src="@{/js/plugins/just-validate.js}"></script>
    <script th:src="@{/js/registrarUsuario.js}"></script>
</head>
<body>
    <div class="background">    
        <div class="shape"></div>
        <div class="shape"></div>
        <div class="shape"></div>
    </div>
    <form id="formRegister" autocomplete="off">
        <div>
            <h3>Regístrate</h3>
        <div>
            <label for="nombre">Nombre</label>
            <input type="text" autocomplete="off" placeholder="Vicente" id="nombre">
        </div>
        
        <div>
            <label for="apellidoPaterno">Apellido paterno</label>
            <input type="text" autocomplete="off" placeholder="Morales" id="apellidoPaterno">
        </div>
        
        <div>
            <label for="apellidoMaterno">Apellido materno</label>
            <input type="text" autocomplete="off" placeholder="Díaz" id="apellidoMaterno">
        </div>
        <div>
            <label for="correo">Correo electrónico</label>
            <input type="email" autocomplete="off" placeholder="vicente.morales@example.com" id="correo">
            <span id="correo-error" class="error-message"></span>
        </div>
        <div>
            <label for="username">Nombre de usuario</label>
            <input type="text" autocomplete="off" placeholder="Strack2112" id="username">
            <span id="username-error" class="error-message"></span>
        </div>
        <div>
            <label for="password">Contraseña</label>
            <input type="password" autocomplete="off" placeholder="********" id="password">
        </div>
        <div>
            <label for="edad">Edad</label>
            <input type="text" autocomplete="off" placeholder="24" id="edad">
        </div>
        <!-- Select para género sin estilos personalizados -->
        <div>
            <label for="genero">Género</label>
            <select id="genero" name="genero">
                <option value="">Seleccionar género</option>
                <option value="masculino">Masculino</option>
                <option value="femenino">Femenino</option>
                <option value="otro">Otro</option>
            </select>
        </div>
        <!-- Roles -->
        <div>
            <label for="roles">Roles</label>
            <div th:each="rol : ${todosLosRoles}">
                <input type="checkbox" th:id="'rol' + ${rol.idRol}" th:name="roles" th:value="${rol.nombre}" />
                <label th:for="'rol' + ${rol.idRol}" th:text="${rol.nombre}"></label><br />
            </div>
        </div>
        <!-- Campo oculto para el ID del usuario actual -->
        <input type="hidden" id="currentUserId" name="currentUserId" th:value="${currentUserId}">
        <button type="submit" id="submitBtn">Registrar</button>
        <button type="button" onclick="location.href='/vista/usuarios?id=' + document.getElementById('currentUserId').value">Regresar a la Tabla de Usuarios</button>
    </form>
</body>
</html>